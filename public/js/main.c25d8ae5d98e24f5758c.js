(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){},429:function(e,t,a){a(190),e.exports=a(680)},574:function(e,t,a){},590:function(e,t,a){var n={"./af":248,"./af.js":248,"./ar":249,"./ar-dz":250,"./ar-dz.js":250,"./ar-kw":251,"./ar-kw.js":251,"./ar-ly":252,"./ar-ly.js":252,"./ar-ma":253,"./ar-ma.js":253,"./ar-sa":254,"./ar-sa.js":254,"./ar-tn":255,"./ar-tn.js":255,"./ar.js":249,"./az":256,"./az.js":256,"./be":257,"./be.js":257,"./bg":258,"./bg.js":258,"./bm":259,"./bm.js":259,"./bn":260,"./bn.js":260,"./bo":261,"./bo.js":261,"./br":262,"./br.js":262,"./bs":263,"./bs.js":263,"./ca":264,"./ca.js":264,"./cs":265,"./cs.js":265,"./cv":266,"./cv.js":266,"./cy":267,"./cy.js":267,"./da":268,"./da.js":268,"./de":269,"./de-at":270,"./de-at.js":270,"./de-ch":271,"./de-ch.js":271,"./de.js":269,"./dv":272,"./dv.js":272,"./el":273,"./el.js":273,"./en-au":274,"./en-au.js":274,"./en-ca":275,"./en-ca.js":275,"./en-gb":276,"./en-gb.js":276,"./en-ie":277,"./en-ie.js":277,"./en-il":278,"./en-il.js":278,"./en-in":279,"./en-in.js":279,"./en-nz":280,"./en-nz.js":280,"./en-sg":281,"./en-sg.js":281,"./eo":282,"./eo.js":282,"./es":283,"./es-do":284,"./es-do.js":284,"./es-us":285,"./es-us.js":285,"./es.js":283,"./et":286,"./et.js":286,"./eu":287,"./eu.js":287,"./fa":288,"./fa.js":288,"./fi":289,"./fi.js":289,"./fil":290,"./fil.js":290,"./fo":291,"./fo.js":291,"./fr":104,"./fr-ca":292,"./fr-ca.js":292,"./fr-ch":293,"./fr-ch.js":293,"./fr.js":104,"./fy":294,"./fy.js":294,"./ga":295,"./ga.js":295,"./gd":296,"./gd.js":296,"./gl":297,"./gl.js":297,"./gom-deva":298,"./gom-deva.js":298,"./gom-latn":299,"./gom-latn.js":299,"./gu":300,"./gu.js":300,"./he":301,"./he.js":301,"./hi":302,"./hi.js":302,"./hr":303,"./hr.js":303,"./hu":304,"./hu.js":304,"./hy-am":305,"./hy-am.js":305,"./id":306,"./id.js":306,"./is":307,"./is.js":307,"./it":308,"./it-ch":309,"./it-ch.js":309,"./it.js":308,"./ja":310,"./ja.js":310,"./jv":311,"./jv.js":311,"./ka":312,"./ka.js":312,"./kk":313,"./kk.js":313,"./km":314,"./km.js":314,"./kn":315,"./kn.js":315,"./ko":316,"./ko.js":316,"./ku":317,"./ku.js":317,"./ky":318,"./ky.js":318,"./lb":319,"./lb.js":319,"./lo":320,"./lo.js":320,"./lt":321,"./lt.js":321,"./lv":322,"./lv.js":322,"./me":323,"./me.js":323,"./mi":324,"./mi.js":324,"./mk":325,"./mk.js":325,"./ml":326,"./ml.js":326,"./mn":327,"./mn.js":327,"./mr":328,"./mr.js":328,"./ms":329,"./ms-my":330,"./ms-my.js":330,"./ms.js":329,"./mt":331,"./mt.js":331,"./my":332,"./my.js":332,"./nb":333,"./nb.js":333,"./ne":334,"./ne.js":334,"./nl":335,"./nl-be":336,"./nl-be.js":336,"./nl.js":335,"./nn":337,"./nn.js":337,"./oc-lnc":338,"./oc-lnc.js":338,"./pa-in":339,"./pa-in.js":339,"./pl":340,"./pl.js":340,"./pt":341,"./pt-br":342,"./pt-br.js":342,"./pt.js":341,"./ro":343,"./ro.js":343,"./ru":344,"./ru.js":344,"./sd":345,"./sd.js":345,"./se":346,"./se.js":346,"./si":347,"./si.js":347,"./sk":348,"./sk.js":348,"./sl":349,"./sl.js":349,"./sq":350,"./sq.js":350,"./sr":351,"./sr-cyrl":352,"./sr-cyrl.js":352,"./sr.js":351,"./ss":353,"./ss.js":353,"./sv":354,"./sv.js":354,"./sw":355,"./sw.js":355,"./ta":356,"./ta.js":356,"./te":357,"./te.js":357,"./tet":358,"./tet.js":358,"./tg":359,"./tg.js":359,"./th":360,"./th.js":360,"./tl-ph":361,"./tl-ph.js":361,"./tlh":362,"./tlh.js":362,"./tr":363,"./tr.js":363,"./tzl":364,"./tzl.js":364,"./tzm":365,"./tzm-latn":366,"./tzm-latn.js":366,"./tzm.js":365,"./ug-cn":367,"./ug-cn.js":367,"./uk":368,"./uk.js":368,"./ur":369,"./ur.js":369,"./uz":370,"./uz-latn":371,"./uz-latn.js":371,"./uz.js":370,"./vi":372,"./vi.js":372,"./x-pseudo":373,"./x-pseudo.js":373,"./yo":374,"./yo.js":374,"./zh-cn":375,"./zh-cn.js":375,"./zh-hk":376,"./zh-hk.js":376,"./zh-mo":377,"./zh-mo.js":377,"./zh-tw":378,"./zh-tw.js":378};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=590},597:function(e,t,a){},598:function(e,t,a){},599:function(e,t,a){},680:function(e,t,a){"use strict";a.r(t);var n=a(389),r=a.n(n),l=a(0),c=a.n(l),o=a(31),s=a(16),i=a(12),m=a(27),u=a(391),d=a(37),p=a.n(d),h=a(49),E=a.n(h),f=a(14),v=a.n(f),g=a(38),b=a.n(g),y=a(39),N=a.n(y),S=a(29),j=a.n(S),C=a(13),w=a.n(C),_=a(7),O=a(698),k=a(693),A=a(696),F=a(8),D=a.n(F),R=a(63);a(199);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(P()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;return p()(this,n),t=a.call(this,e),w()(v()(t),"state",{profil:{lastname:"",fistname:"",mail:"",password:"",newPassword:"",newPassword_two:""},errors:{password:null,newPassword:null,newPassword_two:null},success:!1}),w()(v()(t),"getProfile",(function(){D.a.get("http://localhost:3000/api/user/profil",{headers:{Authorization:sessionStorage.token}}).then((function(e){if(e){var a=t.state;a.profil=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){w()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.profil,{lastname:e.data.lastname,fistname:e.data.firstname,mail:e.data.mail}),t.setState(a)}})).catch((function(e){console.trace(e)}))})),w()(v()(t),"handleChange",(function(e){var a=e.target.value,n=e.target.name,r=t.state;r.profil[n]=a,t.setState(r)})),w()(v()(t),"handleSubmit",(function(e){var a=new FormData;a.append("firstname",t.state.profil.fistname),a.append("lastname",t.state.profil.lastname),a.append("mail",t.state.profil.mail),a.append("password",t.state.profil.password),a.append("newPassword_two",t.state.profil.newPassword_two),console.log(Array.from(a)),D.a.patch("http://localhost:3000/api/user/profil",a,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){e.data?R.b.success("Profil modifié !"):R.b.error("Une erreur s'est produite !")})).catch((function(e){console.trace(e)}))})),w()(v()(t),"handlePassword",(function(e){var a=e.target.value,n=e.target.name,r=t.state,l=e.target;/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(a)?(r.errors[n]=null,l.style.border="0"):(r.errors[n]="Vous devez compléter un mot de passe avec minimum 8 caractères, une majuscule, et un caractère spécial.",l.style.borderBottom="2px solid red"),t.setState(r)})),w()(v()(t),"showError",(function(e){if(e)return console.log(t.state.errors[e]),c.a.createElement("p",{style:{color:"red"}},t.state.errors[e])})),w()(v()(t),"isEgalPassword",(function(e){var a=e.target,n=t.state;t.state.profil.newPassword!==t.state.profil.newPassword_two?(n.errors.newPassword_two="Vous devez compléter un mot de passe identique au précédent champ.",a.style.borderBottom="2px solid red"):(n.errors.newPassword_two=null,a.style.borderBottom="0"),t.setState(n)})),w()(v()(t),"render",(function(){return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"profil"},c.a.createElement(R.a,null),c.a.createElement(O.a,{as:"h2"},"Paramètres du compte"),c.a.createElement(k.a,{className:"profil-form",onSubmit:t.handleSubmit},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom"),c.a.createElement("input",{type:"text",name:"lastname",value:t.state.profil.lastname,onChange:t.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prénom"),c.a.createElement("input",{type:"text",name:"fistname",value:t.state.profil.fistname,onChange:t.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Adresse e-mail"),c.a.createElement("input",{type:"email",name:"mail",value:t.state.profil.mail,onChange:t.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Mot de passe"),c.a.createElement("input",{type:"password",name:"password",value:t.state.profil.password,onChange:function(e){t.handleChange(e),t.handlePassword(e)}}),t.state.errors.password?t.showError("password"):null),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nouveau mot de passe"),c.a.createElement("input",{type:"password",name:"newPassword",value:t.state.profil.newPassword,onChange:function(e){t.handleChange(e),t.handlePassword(e)}}),t.state.errors.newPassword?t.showError("newPassword"):null),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Confirmez le nouveau mot de passe"),c.a.createElement("input",{type:"password",name:"newPassword_two",value:t.state.profil.newPassword_two,onChange:function(e){t.handleChange(e),t.isEgalPassword(e)}}),t.state.errors.newPassword_two?t.showError("newPassword_two"):null),c.a.createElement("div",{className:"button-field-profil"},c.a.createElement(A.a,{type:"submit",color:"green",className:"submit-button"},"Enregistrer")))))})),t.getProfile(),t}return n}(l.Component),I=a(10),L=a.n(I),T=a(28),M="actions/LOG_OUT",V=function(e){return{type:"actions/ENTER_MAINPAGE",history:e}},q=function(e){return{type:"actions/SEE_PROFILPAGE",history:e}},H=function(e){return{type:"actions/SEE_CLIENTS",history:e}},U=function(e){return{type:"actions/SEE_CLIENTFORM",history:e}},K=function(e){return{type:"actions/SEE_ARCHIVES",history:e}},B=function(e){return{type:"actions/SEE_WORKERS",history:e}},G=function(e){return{type:"actions/SEE_CARDFORM",history:e}},W=function(e){return{type:"actions/SEE_ARTICLEFORM",history:e}},Y=function(e){return{type:"actions/SEE_WORKERFORM",history:e}},Q=function(e){return{type:"actions/SEE_PRODUCTS",history:e}},X=function(e){return{type:"actions/SEE_BREAKDOWN",history:e}},$=function(e){return{type:"actions/SEE_TAG_LIST",history:e}},J=function(e){return{type:"actions/SEE_ACTIONLIST",history:e}},Z=function(e){return{type:M,history:e}},ee=a(694),te=function(){var e=Object(s.b)(),t=Object(_.g)();return c.a.createElement("div",{className:"profilButton"},c.a.createElement(ee.a,{item:!0,text:"",icon:"user"},c.a.createElement(ee.a.Menu,null,c.a.createElement(ee.a.Item,{onClick:function(a){e(q(t))}},"Profil"),c.a.createElement(ee.a.Item,{onClick:function(a){e(Z(t))}},"Se deconnecter"))))},ae=function(){var e=Object(s.b)(),t=Object(_.g)();return c.a.createElement("div",{className:"burgerButton"},c.a.createElement(ee.a,{item:!0,text:"",icon:"bars"},c.a.createElement(ee.a.Menu,null,c.a.createElement(ee.a.Item,{onClick:function(a){e(V(t))}},"Liste des réparations"),c.a.createElement(ee.a.Item,{onClick:function(a){e(G(t))}},"Créer une fiche SAV"),c.a.createElement(ee.a.Item,{onClick:function(a){e(H(t))}},"Liste des clients"),c.a.createElement(ee.a.Item,{onClick:function(a){e(U(t))}},"Créer une fiche client"),c.a.createElement(ee.a.Item,{onClick:function(a){e(K(t))}},"Liste des fiches archivées"),c.a.createElement(ee.a.Item,{onClick:function(a){e(Q(t))}},"Liste des Articles"),c.a.createElement(ee.a.Item,{onClick:function(a){e(W(t))}},"Créer un Article"),c.a.createElement(ee.a.Item,{onClick:function(a){e(B(t))}},"Liste des employés"),c.a.createElement(ee.a.Item,{onClick:function(a){e(Y(t))}},"Créer une fiche employé"),c.a.createElement(ee.a.Item,{onClick:function(a){e(q(t))}},"Profil"),c.a.createElement(ee.a.Item,{onClick:function(a){e(Z(t))}},"Se deconnecter"))))},ne=function(e){var t,a=Object(s.b)(),n=Object(_.g)(),r=Object(T.a)(),o=r.register,m=r.handleSubmit,u=Object(l.useState)([]),d=L()(u,2),p=d[0],h=d[1],E=Object(l.useState)(!1),f=L()(E,2),v=f[0],g=f[1];t="general"===e.type?"http://localhost:3000/api/search?q=":"user"===e.type?"http://localhost:3000/api/search/user/?q=":"http://localhost:3000/api/search?q=";return c.a.createElement("div",{className:"header-area"},c.a.createElement("img",{className:"header-area-image",src:"http://localhost:3000/app/logo.png",alt:"logo",onClick:function(e){a(V(n))}}),c.a.createElement(k.a,{className:"search-form",onChange:m((function(e){D.a.get(t+e.search,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data&&(h(e.data),g(!0),document.querySelector(".resultSearch").classList.add("active"))})).catch((function(e){console.trace(e)}))}))},c.a.createElement("input",{className:"header-area-searchbar",name:"search",ref:o({required:!0}),placeholder:"Rechercher",icon:"search"}),c.a.createElement("div",{className:"resultSearch",onClick:function(){g(!1);var e=document.querySelector(".header-area-searchbar");document.querySelector(".resultSearch").classList.remove("active"),e.value=""}},function(){if(v)return"general"===e.type?p.map((function(e,t){return""===e?void 0:c.a.createElement("ul",{className:"resultSearch-ul",key:t},c.a.createElement(i.b,{to:"/card/".concat(e.id)},c.a.createElement("li",null,e.order_number," ",e.device_name," ",e.device_brand)),c.a.createElement("li",{className:"resultSearch-name"},e.firstname," ",e.lastname))})):"user"===e.type?p.map((function(e,t){return""===e?void 0:c.a.createElement("ul",{className:"resultSearch-ul",key:t},c.a.createElement(i.b,{to:"/clients/".concat(e.id)},c.a.createElement("li",null,e.firstname," ",e.lastname)),c.a.createElement("li",{className:"resultSearch-name"},e.phone," ",e.mail))})):p.map((function(e,t){return""===e?void 0:c.a.createElement("ul",{className:"resultSearch-ul",key:t},c.a.createElement(i.b,{to:"/card/".concat(e.id)},c.a.createElement("li",null,e.order_number," ",e.device_name," ",e.device_brand)),c.a.createElement("li",{className:"resultSearch-name"},e.firstname," ",e.lastname))}))}())),c.a.createElement(te,null),c.a.createElement(ae,null))},re=a(697),le=function(e){var t=document.querySelectorAll(".item .menu");console.log(t);for(var a=0;a<t.length;a++)t[a].classList.remove("show");var n=e.target.querySelector(".menu");n.classList.contains("show")?n.classList.remove("show"):n.classList.add("show")},ce=function(e){Object(s.b)(),Object(_.g)();return"false"===e.admin?c.a.createElement(c.a.Fragment,null):function(){var e=Object(s.b)(),t=Object(_.g)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a.Item,{text:"Employés",as:"div",onClick:le},"Employés",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(B(t))}},"Liste des employés"),c.a.createElement(re.a.Item,{onClick:function(a){e(Y(t))}},"Créer une fiche employé"))),c.a.createElement(re.a.Item,{text:"Employés",as:"div",onClick:le},"Pannes",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(X(t))}},"Liste des pannes"),c.a.createElement(re.a.Item,{onClick:function(a){e(function(e){return{type:"actions/SEE_BREAKDOWN_FORM",history:e}}(t))}},"Créer une panne"))),c.a.createElement(re.a.Item,{text:"Tags",as:"div",onClick:le},"Tags",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e($(t))}},"Liste des tags"),c.a.createElement(re.a.Item,{onClick:function(a){e(function(e){return{type:"actions/SEE_TAG_FORM",history:e}}(t))}},"Créer un tag"))),c.a.createElement(re.a.Item,{text:"Actions",as:"div",onClick:le},"Actions",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(J(t))}},"Liste des actions"),c.a.createElement(re.a.Item,{onClick:function(a){e(function(e){return{type:"actions/SEE_ACTIONFORM",history:e}}(t))}},"Créer une action"))))}()},oe=function(e){var t=document.querySelectorAll(".item .menu");console.log(t);for(var a=0;a<t.length;a++)t[a].classList.remove("show");var n=e.target.querySelector(".menu");n&&(n.classList.contains("show")?n.classList.remove("show"):n.classList.add("show"))},se=function(){var e=Object(s.b)(),t=Object(_.g)();return c.a.createElement("div",{className:"navbar"},c.a.createElement(re.a,{fluid:!0,vertical:!0},c.a.createElement(re.a.Item,{text:"SAV",as:"div",onClick:oe},"SAV",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(V(t))}},"Liste des réparations"),c.a.createElement(re.a.Item,{onClick:function(a){e(G(t))}},"Créer une fiche SAV"))),c.a.createElement(re.a.Item,{text:"Clients",as:"div",onClick:oe},"Clients",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(H(t))}},"Liste des clients"),c.a.createElement(re.a.Item,{onClick:function(a){e(U(t))}}," Créer une fiche client"))),c.a.createElement(re.a.Item,{name:"Archives",onClick:function(a){e(K(t))}}),c.a.createElement(re.a.Item,{text:"Articles",as:"div",onClick:oe},"Articles",c.a.createElement(re.a.Menu,null,c.a.createElement(re.a.Item,{onClick:function(a){e(Q(t))}}," Liste des Articles"),c.a.createElement(re.a.Item,{onClick:function(a){e(W(t))}}," Créer un Article"))),c.a.createElement(ce,{admin:sessionStorage.isAdmin})))},ie=(a(574),function(){if(sessionStorage.errorLogin){var e=sessionStorage.errorLogin;return sessionStorage.removeItem("errorLogin"),c.a.createElement("p",{className:"error-login",style:{color:"white",backgroundColor:"red",padding:"5px"}},e)}return null}),me=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.mail})),a=Object(s.c)((function(e){return e.password})),n=Object(_.g)();return c.a.createElement("div",{className:"loginMain"},c.a.createElement("div",{className:"loginSpace"},c.a.createElement("img",{src:"http://localhost:3000/app/logo.png",alt:"logo",className:"profil-logo"}),c.a.createElement(O.a,{as:"h2",className:"profil-header"},"Connectez-vous"),c.a.createElement(k.a,{onSubmit:function(t){t.preventDefault(),e(function(e){return{type:"actions/LOGIN",history:e}}(n))}},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Adresse e-mail"),c.a.createElement("input",{className:"inputEmailLogin",value:t,onChange:function(t){e(function(e){return{type:"actions/SYNC_MAIL",mail:e}}(t.target.value))},required:!0})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Mot de passe"),c.a.createElement("input",{className:"inputPassword",type:"password",value:a,onChange:function(t){e(function(e){return{type:"actions/SYNC_PASSWORD",password:e}}(t.target.value))},required:!0})),c.a.createElement(ie,null),c.a.createElement(A.a,{className:"profil-button"},"Connexion"))))},ue=a(691),de=function(){var e=Object(l.useState)(!1),t=L()(e,2),a=t[0],n=t[1],r=Object(l.useState)(),o=L()(r,2),s=(o[0],o[1]),m=Object(l.useState)([]),u=L()(m,2),d=u[0],p=u[1];Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/user",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){p(e.data),n(!0)})).catch((function(e){console.trace(e)}))}),[]);var h=function(e){if(window.confirm("Voulez-vous archiver cette fiche ?")){var t=e.target.getAttribute("id"),a="http://localhost:3000/api/user/archive/".concat(t);D.a.get(a,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){s(e.data),document.getElementById(t).remove()})).catch((function(e){console.trace(e)}))}};return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"worker-list"},c.a.createElement(O.a,{as:"h2"},"Liste des employés ",c.a.createElement(i.b,{to:"/newclient"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("table",{className:"ui compact celled table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Prénom"),c.a.createElement("th",null,"Nom"),c.a.createElement("th",null,"Mail"),c.a.createElement("th",null))),c.a.createElement("tbody",null,d.map((function(e,t){return c.a.createElement("tr",{key:t,className:"table-row",id:e.id},c.a.createElement("td",null,e.firstname),c.a.createElement("td",null,e.lastname),c.a.createElement("td",null,e.mail),c.a.createElement("td",null,c.a.createElement("div",{className:"icons-part"},c.a.createElement(i.b,{to:"/editworkerform/".concat(e.id)},c.a.createElement("i",{className:"edit icon worker"})),c.a.createElement("i",{className:"trash alternate icon",id:e.id,onClick:h}))))}))))),a?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},pe=a(68),he=function(){var e=Object(l.useState)([]),t=L()(e,2),a=t[0],n=t[1],r=Object(l.useState)([]),o=L()(r,2),s=(o[0],o[1]),m=Object(l.useState)(),u=L()(m,2),d=(u[0],u[1],Object(l.useState)(!1)),p=L()(d,2),h=p[0],E=p[1],f=Object(l.useState)(),v=L()(f,2),g=v[0],b=v[1],y=Object(l.useState)(),N=L()(y,2),S=N[0],j=N[1],C=Object(_.h)(),w=C.page,k=(C.id,"http://localhost:3000/api/client/page/".concat(w,"/nb/20"));w=parseInt(w,10);Object(l.useEffect)((function(){D.a.get(k,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){b(w),n(e.data.customers),s(e.data.nbPages),j(!0)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des clients ",c.a.createElement(i.b,{to:"/formtab"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("div",{className:"table-head"},c.a.createElement("div",{className:"number"},"N° de client"),c.a.createElement("div",{className:"lastname"},"Nom"),c.a.createElement("div",{className:"firstname"},"Prénom"),c.a.createElement("div",{className:"phone"},"Téléphone"),c.a.createElement("div",{className:"mail"},"Mail"),c.a.createElement("div",{className:"options"},"Options")),c.a.createElement(pe.a,{dataLength:a.length,next:function(){var e=g+=1,t="http://localhost:3000/api/client/page/".concat(e,"/nb/").concat(8);b(e),D.a.get(t,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data.customers.length<8&&j(!1),n(a.concat(e.data.customers)),console.log("ok"),E(!0)})).catch((function(e){console.log(e)}))},hasMore:S,loader:c.a.createElement("div",{className:"table-row"},"Chargement ..."),endMessage:c.a.createElement("div",{className:"table-row"})},a.map((function(e,t){return c.a.createElement("div",{key:t,className:"table-row"},c.a.createElement("div",{className:"number"},e.id),c.a.createElement("div",{className:"lastname"},e.lastname),c.a.createElement("div",{className:"firstname"},e.firstname),c.a.createElement("div",{className:"phone"},c.a.createElement("p",null,e.phone)),c.a.createElement("div",{className:"mail"},c.a.createElement("p",null,e.mail)),c.a.createElement("div",{className:"options"},c.a.createElement(i.b,{to:"/getnewclient/".concat(e.id)},c.a.createElement("i",{className:"edit icon"})),c.a.createElement(i.b,{to:"/clients/".concat(e.id)},c.a.createElement("i",{className:"eye icon"}))))}))),h?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},Ee=a(699),fe=a(133),ve=a.n(fe),ge=function(){var e=Object(_.h)().id,t=Object(l.useState)([]),a=L()(t,2),n=a[0],r=a[1];if(e){var o="http://localhost:3000/api/client/".concat(e);return Object(l.useEffect)((function(){D.a.get(o,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"header-part"},c.a.createElement(O.a,{as:"h2"},"Fiche Client"),c.a.createElement("div",{className:"icons-part"},c.a.createElement(i.b,{to:"/getnewclient/".concat(n.id)},c.a.createElement("i",{className:"edit icon client"})),c.a.createElement(ve.a,{trigger:c.a.createElement("i",{className:"fa fa-print client"})},c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"header-part"},c.a.createElement(O.a,{as:"h2"},"Fiche Client")),c.a.createElement("div",{className:"main-client"},c.a.createElement("h3",null," Nom :  ",c.a.createElement("span",null,n.lastname||"")),c.a.createElement("h3",null," Prénom :  ",c.a.createElement("span",null,n.firstname||"")),c.a.createElement("h3",null," Numéro de téléphone:  ",c.a.createElement("span",null,n.phone||"")),c.a.createElement("h3",null," Numéro de téléphone 2 :  ",c.a.createElement("span",null,n.phone_two||"")),c.a.createElement("h3",null," Adresse mail :  ",c.a.createElement("span",null,n.mail||""))))))),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"main-client"},c.a.createElement("h5",null," Nom :  ",c.a.createElement("span",null,n.lastname||"")),c.a.createElement("h5",null," Prénom :  ",c.a.createElement("span",null,n.firstname||"")),c.a.createElement("h5",null," Numéro de téléphone:  ",c.a.createElement("span",null,n.phone||"")),c.a.createElement("h5",null," Numéro de téléphone 2 :  ",c.a.createElement("span",null,n.phone_two||"")),c.a.createElement("h5",null," Adresse mail :  ",c.a.createElement("span",null,n.mail||"")))))}return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Fiche du Client"),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"main-client"},"PAS DE CLIENT")))},be=function(){var e=Object(l.useState)([]),t=L()(e,2),a=t[0],n=t[1],r=Object(l.useState)([]),o=L()(r,2),s=(o[0],o[1]),m=Object(l.useState)(),u=L()(m,2),d=(u[0],u[1],Object(l.useState)(!1)),p=L()(d,2),h=p[0],E=p[1],f=Object(l.useState)(),v=L()(f,2),g=v[0],b=v[1],y=Object(l.useState)(),N=L()(y,2),S=N[0],j=N[1],C=Object(_.h)().page,w="http://localhost:3000/api/sav/archive/page/".concat(C,"/nb/20");C=parseInt(C,10);Object(l.useEffect)((function(){D.a.get(w,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){b(C),n(e.data.savs),s(e.data.nbPages),j(!0),E(!0)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des archives",c.a.createElement(i.b,{to:"/formtab"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("div",{className:"table-head"},c.a.createElement("div",{className:"number"},"N° de billet"),c.a.createElement("div",{className:"ref-customer"},"Référence Client"),c.a.createElement("div",{className:"device-name"},"Nom de l'appareil"),c.a.createElement("div",{className:"device-brand"},"Modèle"),c.a.createElement("div",{className:"date-enter"},"Entrée en SAV"),c.a.createElement("div",{className:"tags"},"Tags"),c.a.createElement("div",{className:"options"},"Options")),c.a.createElement(pe.a,{dataLength:a.length,next:function(){var e=g+=1,t="http://localhost:3000/api/sav/archive/page/".concat(e,"/nb/").concat(8);b(e),D.a.get(t,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data.savs.length<8&&j(!1),n(a.concat(e.data.savs))})).catch((function(e){console.log(e)}))},hasMore:S,loader:c.a.createElement("div",{className:"table-row"},"Chargement ..."),endMessage:c.a.createElement("div",{className:"table-row"})},a.map((function(e,t){var a=new Date(e.date_enter);return c.a.createElement("div",{key:t,className:"table-row"},c.a.createElement("div",{className:"number"},e.order_number),c.a.createElement("div",{className:"ref-customer"},c.a.createElement(i.b,{to:"/clients/".concat(e.customer_id)},c.a.createElement("p",null,e.lastname," ",e.firstname))),c.a.createElement("div",{className:"device-name"},c.a.createElement("p",null,e.device_name)),c.a.createElement("div",{className:"device-brand"},c.a.createElement("p",null,e.device_brand)),c.a.createElement("div",{className:"date-enter"},a.toLocaleDateString("fr-FR")),c.a.createElement("div",{className:"tags"},e.tags),c.a.createElement("div",{className:"options"},c.a.createElement(i.b,{to:"/card/".concat(e.id)},c.a.createElement("i",{className:"eye icon"}))))}))),h?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},ye=a(690),Ne=function(){var e=Object(s.b)(),t=Object(_.g)(),a=Object(T.a)(),n=a.register,r=a.handleSubmit,l=Object(m.d)();return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Nouveau client"),c.a.createElement(k.a,{onSubmit:r((function(a){var n=new FormData;n.append("firstname",a.firstname),n.append("lastname",a.lastname),n.append("mail",a.mail),n.append("phone",a.phone),n.append("phone_two",a.phone_two),n.append("customer_detail",a.customer_detail),n.append("created_at",a.created_at),n.append("updated_at",a.updated_at),console.log(Array.from(n)),D.a.post("http://localhost:3000/api/client/add",n,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(a){e(H(t)),a.data?l.success("Client crée"):l.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prénom"),c.a.createElement("input",{name:"firstname",ref:n})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom *"),c.a.createElement("input",{name:"lastname",ref:n})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone *"),c.a.createElement("input",{name:"phone",ref:n})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone 2"),c.a.createElement("input",{placeholder:"Optionnel",name:"phone_two",ref:n})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Adresse e-mail"),c.a.createElement("input",{name:"mail",ref:n})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Notes"),c.a.createElement(ye.a,{placeholder:"Informations supplémentaires",style:{minHeight:100},name:"customer_detail",ref:n})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit",onClick:function(){l.success("Client crée avec succès")}},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,null,"Annuler")))))},Se=function(){var e=Object(_.g)(),t=Object(s.b)(),a=Object(l.useState)([]),n=L()(a,2),r=n[0],o=n[1],m=Object(l.useState)([]),u=L()(m,2),d=(u[0],u[1]),p=Object(l.useState)(),h=L()(p,2),E=(h[0],h[1]),f=Object(l.useState)(!1),v=L()(f,2),g=v[0],b=v[1],y=Object(l.useState)(),N=L()(y,2),S=N[0],j=N[1],C=Object(l.useState)(),w=L()(C,2),k=w[0],A=w[1],F=Object(_.h)().page,R="http://localhost:3000/api/sav/page/".concat(F,"/nb/20");F=parseInt(F,10);Object(l.useEffect)((function(){D.a.get(R,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){j(F),o(e.data.savs),d(e.data.nbPages),A(!0),b(!0)})).catch((function(e){console.log(e)}))}),[]);var x=function(a){if(window.confirm("Voulez-vous archiver cette fiche ?")){var n=a.target.getAttribute("id"),r="http://localhost:3000/api/sav/archive/".concat(n);D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(a){E(a.data),document.querySelector(".table-row").remove(),t(K(e))})).catch((function(e){console.trace(e)}))}};return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des réparations ",c.a.createElement(i.b,{to:"/formtab"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("div",{className:"table-head"},c.a.createElement("div",{className:"number"},"N° de billet"),c.a.createElement("div",{className:"ref-customer"},"Référence Client"),c.a.createElement("div",{className:"device-name"},"Nom de l'appareil"),c.a.createElement("div",{className:"device-brand"},"Modèle"),c.a.createElement("div",{className:"date-enter"},"Entrée en SAV"),c.a.createElement("div",{className:"tags"},"Tags"),c.a.createElement("div",{className:"options"},"Options")),c.a.createElement(pe.a,{dataLength:r.length,next:function(){var e=S+=1,t="http://localhost:3000/api/sav/page/".concat(e,"/nb/").concat(8);j(e),D.a.get(t,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data.savs.length<8&&A(!1),o(r.concat(e.data.savs))})).catch((function(e){console.log(e)}))},hasMore:k,loader:c.a.createElement("div",{className:"table-row"},"Chargement ..."),endMessage:c.a.createElement("div",{className:"table-row"})},r.map((function(e,t){var a;a=e.tags_title[0]?c.a.createElement("span",{style:{backgroundColor:e.tags_colors[0]}},e.tags_title[0]):null;var n=new Date(e.date_enter);return c.a.createElement("div",{key:t,className:"table-row"},c.a.createElement("div",{className:"number"},e.order_number),c.a.createElement("div",{className:"ref-customer"},c.a.createElement(i.b,{to:"/clients/".concat(e.customer_id)},c.a.createElement("p",null,e.firstname," ",e.lastname))),c.a.createElement("div",{className:"device-name"},c.a.createElement("p",null,e.device_name)),c.a.createElement("div",{className:"device-brand"},c.a.createElement("p",null,e.device_brand)),c.a.createElement("div",{className:"date-enter"},n.toLocaleDateString("fr-FR")),c.a.createElement("div",{className:"tags"},a),c.a.createElement("div",{className:"options"},c.a.createElement(i.b,{to:"/newformtab/".concat(e.order_number)},c.a.createElement("i",{className:"edit icon"})),c.a.createElement(i.b,{to:"/card/".concat(e.id)},c.a.createElement("i",{className:"eye icon"})),c.a.createElement("i",{className:"trash alternate icon",id:e.id,onClick:x})))}))),g?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},je=a(695),Ce=a(182),we=a.n(Ce),_e=function(){var e=Object(_.h)().order_number,t=Object(l.useState)([]),a=L()(t,2),n=a[0],r=a[1],o=Object(l.useState)(),s=L()(o,2),m=(s[0],s[1]),u=Object(l.useState)(!1),d=L()(u,2),p=(d[0],d[1],"http://localhost:3000/api/sav/".concat(e));console.log(e);Object(l.useEffect)((function(){D.a.get(p,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]);var h=function(e){var t=e.target.getAttribute("id"),a="http://localhost:3000/api/sav/archive/".concat(t);D.a.get(a,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){m(e.data)})).catch((function(e){console.trace(e)}))};console.log(h),console.log(n);var E=function(){if(n.customer)return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Nom : ",n.customer.lastname),c.a.createElement("p",null,"Prénom : ",n.customer.firstname),c.a.createElement("p",null,"Téléphone : ",n.customer.phone),c.a.createElement("p",null,"Mail : ",n.customer.mail))},f=new Date(n.date_enter),v=new Date(n.interval_repair),g=new Date(n.date_devis),b="http://localhost:8080/card/".concat(n.order_number);return c.a.createElement("div",{className:"main"},c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"header-part"},c.a.createElement(O.a,{as:"h2",className:"card-title"},"Fiche ",n.order_number),c.a.createElement("div",{className:"icons-part"},c.a.createElement(i.b,{to:"/newformtab/".concat(n.order_number)},c.a.createElement("i",{className:"edit icon client"})),c.a.createElement(ve.a,{trigger:c.a.createElement("i",{className:"fa fa-print client"})},c.a.createElement(O.a,{as:"h2",className:"card-title"},"Fiche ",n.order_number||""),c.a.createElement(je.a,null,c.a.createElement(je.a.Item,{className:"card-head"},n.device_name),c.a.createElement(je.a.Item,{className:"card-head"},n.device_brand),c.a.createElement(je.a.Item,{className:"card-head"},n.device_model),c.a.createElement(je.a.Item,{className:"card-head"},"Rentré le : ",f.toLocaleDateString("fr-FR")),c.a.createElement(je.a.Item,{className:"card-head"},"Prévu le :",v.toLocaleDateString("fr-FR")||"")),c.a.createElement(we.a,{value:b,size:220}),E()))),c.a.createElement("div",{className:"card-title"},c.a.createElement(je.a,null,c.a.createElement(je.a.Header,{className:"card-head"},n.device_name||""),c.a.createElement(je.a.Header,{className:"card-head"},n.device_brand||""),c.a.createElement(je.a.Header,{className:"card-head"},n.device_model||""))),c.a.createElement("div",{className:"card-image"},c.a.createElement(we.a,{value:b,size:220}),c.a.createElement("div",{className:"card-picture"},n.picture||""),c.a.createElement("div",{className:"card-tags"},c.a.createElement("div",{className:"card-tag"}))),c.a.createElement(Ee.a,null,c.a.createElement(O.a,{as:"h3"},"Client"),E()),c.a.createElement(Ee.a,null,c.a.createElement(O.a,{as:"h3"},"Appareil"),c.a.createElement(je.a,null,c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Date d'entrée en réparation :"),f.toLocaleDateString("fr-FR")),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Descriptif de la panne :"),n.panne),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Délai de réparation :"),v.toLocaleDateString("fr-FR")),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Descriptif intervention :"),n.intervention))),c.a.createElement(Ee.a,null,c.a.createElement(O.a,{as:"h3"},"Devis"),c.a.createElement(je.a,null,c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Date du devis :"),g.toLocaleDateString("fr-FR")),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Montant diagnostic :"),n.amount_diag||"","€"),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Montant articles :"),n.amount_devis||"","€"),c.a.createElement(je.a.Item,null,c.a.createElement(je.a.Header,null,"Montant total :"),n.amount_devis-n.amount_diag,"€"))),c.a.createElement("button",{className:"archive-button",id:e,onClick:h},"Archiver la fiche")))},Oe=a.p+"images/82b7550b7d06b89204d34cffcaa0ff76.png",ke=function(){return c.a.createElement("div",{className:"page404"},c.a.createElement("p",{className:"page404-title"},"Désolé, cette page n'existe pas ..."),c.a.createElement("img",{src:Oe,alt:"image 404"}))};function Ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Fe=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(Ae()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;return p()(this,n),t=a.call(this,e),w()(v()(t),"state",{activities:[],url:"",type:t.props.type,id:t.props.id,nbResult:"12"}),w()(v()(t),"loadData",(function(){var e=t.state;"sav"===t.state.type?e.url="http://localhost:3000/api/activity/sav/".concat(t.state.id):"general"===t.state.type?e.url="http://localhost:3000/api/activity/".concat(t.state.nbResult):"user"===t.state.type?e.url="http://localhost:3000/api/activity/user/".concat(t.state.id):e.url="http://localhost:3000/api/activity/".concat(t.state.nbResult),t.setState(e),D.a.get(t.state.url,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(a){e.activities=a.data,t.setState(e)})).catch((function(e){console.trace(e)}))})),w()(v()(t),"activitiesList",(function(){return t.state.activities.map((function(e,t){var a=new Date(e.created_at);if("tag"===e.type){var n=c.a.createElement("span",{style:{color:e.color,fontWeight:"bold"}},e.name);return c.a.createElement("div",{className:"activity-content",key:t},c.a.createElement(i.b,{className:"activity-header",to:"/card/".concat(e.order_number)},c.a.createElement("span",null,c.a.createElement("i",{className:"large tag middle aligned icon"})),e.lastname," a ajouté le tag ",n),c.a.createElement("div",{className:"activity-description"},c.a.createElement(i.b,{to:"/card/".concat(e.order_number)},e.order_number),c.a.createElement("span",{className:"activity-span"},a.toLocaleDateString("fr-FR"))))}return c.a.createElement("div",{className:"activity-content",key:t},c.a.createElement(i.b,{className:"activity-header",to:"/card/".concat(e.order_number)},c.a.createElement("span",null,c.a.createElement("i",{className:"large tasks middle aligned icon"}))," ",e.lastname," ",e.name),c.a.createElement("div",{className:"activity-description"},c.a.createElement(i.b,{to:"/card/".concat(e.order_number)},e.order_number),c.a.createElement("span",{className:"activity-span"},a.toLocaleDateString("fr-FR"))))}))})),t}return E()(n,[{key:"shouldComponentUpdate",value:function(e,t){if(e.type!==this.props.type){var a=e.type,n=this.state;if(n.type=a,e.id&&e.id!==this.props.id){var r=e.id;n.id=r}return this.setState(n),this.componentDidMount(),this.loadData(),!1}return!0}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return c.a.createElement("div",{className:"activity"},c.a.createElement(O.a,{as:"h2"},"Historique"),this.activitiesList())}}]),n}(l.Component);function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Re=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(De()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;return p()(this,n),t=a.call(this,e),w()(v()(t),"state",{product:{ref:"",name:"",price:""},redirect:!1,error:null}),w()(v()(t),"handleChange",(function(e){var a=e.target.value,n=e.target.name,r=t.state;r.product[n]=a,t.setState(r)})),w()(v()(t),"handleSubmit",(function(e){var a=new FormData;a.append("ref",t.state.product.ref),a.append("name",t.state.product.name),a.append("price",t.state.product.price),a.append("mesure","€"),D.a.post("http://localhost:3000/api/product/add",a,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){console.log(e.data),e.data?e.data.error?(t.setState({error:e.data.error}),R.b.error(e.data.error)):(R.b.success("Article créé avec succes !"),t.setState({redirect:!0})):(t.setState({error:e.data.error}),R.b.error(e.data.error))})).catch((function(e){console.trace(e)}))})),w()(v()(t),"showError",(function(){if(t.state.error)return c.a.createElement("div",{style:{color:"white",backgroundColor:"#e74c3c",borderRadius:"5px",padding:"5px",width:"100%"}},t.state.error)})),t}return E()(n,[{key:"render",value:function(){return this.state.redirect?c.a.createElement(_.a,{to:"/articlelist/1"}):c.a.createElement("div",{className:"main"},c.a.createElement(R.a,null),c.a.createElement(O.a,{as:"h2"},"Nouvel article"),this.showError(),c.a.createElement("div",{className:"newcard"},c.a.createElement(k.a,{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"newcard-client"},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Référence"),c.a.createElement("input",{name:"ref",onChange:this.handleChange,value:this.state.product.ref})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Désignation"),c.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.state.product.name})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prix"),c.a.createElement("input",{name:"price",type:"number",onChange:this.handleChange,value:this.state.product.price}))),c.a.createElement("div",{className:"newcard-button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"submit"},"Annuler"))))))}}]),n}(l.Component),xe=function(){var e=Object(m.d)(),t=Object(s.b)(),a=Object(_.g)(),n=Object(T.a)(),r=n.register,l=n.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Nouvel employé"),c.a.createElement(k.a,{onSubmit:l((function(n){var r=new FormData;r.append("firstname",n.firstname),r.append("lastname",n.lastname),r.append("mail",n.mail),r.append("password",n.password),r.append("role_id",n.role_id),r.append("created_at",n.created_at),r.append("updated_at",n.updated_at),console.log(Array.from(r)),D.a.post("http://localhost:3000/api/user/add",r,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(n){t(B(a)),n.data?e.success("Employé crée"):e.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prénom"),c.a.createElement("input",{name:"firstname",ref:r})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom"),c.a.createElement("input",{name:"lastname",ref:r})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Mail"),c.a.createElement("input",{name:"mail",ref:r})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Mot de passe"),c.a.createElement("input",{type:"password",name:"password",ref:r})),c.a.createElement(k.a.Field,null,c.a.createElement("select",{name:"role_id",ref:r},c.a.createElement("option",{name:"1",value:"1"},"Employés"),c.a.createElement("option",{name:"2",value:"2"},"Administrateur"))),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"submit"},"Annuler")))))},Pe=function(){var e=Object(_.g)(),t=Object(s.b)(),a=Object(l.useState)([]),n=L()(a,2),r=n[0],o=n[1],m=Object(l.useState)([]),u=L()(m,2),d=(u[0],u[1]),p=Object(l.useState)(),h=L()(p,2),E=(h[0],h[1]),f=Object(l.useState)(!1),v=L()(f,2),g=v[0],b=v[1],y=Object(l.useState)(),N=L()(y,2),S=N[0],j=N[1],C=Object(l.useState)(),w=L()(C,2),k=w[0],A=w[1],F=Object(_.h)().page,R="http://localhost:3000/api/product/page/".concat(F,"/nb/20");F=parseInt(F,10);Object(l.useEffect)((function(){D.a.get(R,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){o(e.data.products),d(e.data.nbPages),b(!0)})).catch((function(e){console.log(e)}))}),[]);var x=function(a){if(window.confirm("Voulez-vous archiver cette fiche ?")){var n=a.target.getAttribute("id"),r="http://localhost:3000/api/product/archive/".concat(n);D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(a){console.log(a.data),E(a.data),t(Q(e)),document.querySelector(".table-row").remove()})).catch((function(e){console.trace(e)}))}};return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des Articles ",c.a.createElement(i.b,{to:"/articleform"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("div",{className:"table-head"},c.a.createElement("div",{className:"number"},"REFERENCE"),c.a.createElement("div",{className:"designation"},"Désignation"),c.a.createElement("div",{className:"price"},"Tarif"),c.a.createElement("div",{className:"options"},"Options")),c.a.createElement(pe.a,{dataLength:r.length,next:function(){var e=S+=1,t="http://localhost:3000/api/product/page/".concat(e,"/nb/").concat(8);j(e),D.a.get(t,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data.products.length<8&&A(!1),o(r.concat(e.data.products))})).catch((function(e){console.log(e)}))},hasMore:k,loader:c.a.createElement("div",{className:"table-row"},"Chargement ..."),endMessage:c.a.createElement("div",{className:"table-row"})},r.map((function(e,t){return c.a.createElement("div",{key:t,className:"table-row"},c.a.createElement("div",{className:"number"},e.id),c.a.createElement("div",{className:"designation"},e.name),c.a.createElement("div",{className:"price"},c.a.createElement("p",null,e.price)),c.a.createElement("div",{className:"options"},c.a.createElement(i.b,{to:"/editarticleform/".concat(e.id)},c.a.createElement("i",{className:"edit icon"})),c.a.createElement("i",{className:"trash alternate icon",id:e.id,onClick:x})))}))),g?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},ze=function(e){var t=Object(m.d)(),a=Object(s.b)(),n=Object(_.g)(),r=Object(_.h)().id,o=Object(l.useState)([]),u=L()(o,2),d=u[0],p=u[1];if(r){var h="http://localhost:3000/api/client/".concat(r);Object(l.useEffect)((function(){D.a.get(h,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){p(e.data)})).catch((function(e){console.log(e)}))}),[])}var E=Object(T.a)(),f=E.register,v=E.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Modifier la fiche Client"),c.a.createElement(k.a,{onSubmit:v((function(e){console.log(e);var l=new FormData;l.append("firstname",e.firstname),l.append("lastname",e.lastname),l.append("mail",e.mail),l.append("phone",e.phone),l.append("phone_two",e.phone_two),l.append("customer_detail",e.customer_detail),l.append("created_at",e.created_at),l.append("updated_at",e.updated_at),console.log(Array.from(l)),D.a.patch("http://localhost:3000/api/client/edit/".concat(r),l,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(e){a(H(n)),e.data?t.success("Validé avec succès"):t.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prénom"),c.a.createElement("input",{name:"firstname",defaultValue:d.firstname||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom *"),c.a.createElement("input",{name:"lastname",defaultValue:d.lastname||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone *"),c.a.createElement("input",{name:"phone",defaultValue:d.phone||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone 2"),c.a.createElement("input",{placeholder:"Optionnel",defaultValue:d.phone_two||"",name:"phone_two",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Adresse e-mail"),c.a.createElement("input",{defaultValue:d.mail||"",name:"mail",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Notes"),c.a.createElement(ye.a,{placeholder:"Informations supplémentaires",defaultValue:d.customer_detail||"",style:{minHeight:100},name:"customer_detail",ref:f})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"submit"},"Annuler")))))},Ie=function(){var e=Object(s.b)(),t=Object(_.g)(),a=Object(T.a)(),n=a.register,r=a.handleSubmit,l=Object(m.d)();return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Nouvelle panne préconfigurée"),c.a.createElement(k.a,{onSubmit:r((function(a){var n=new FormData;n.append("title",a.title),n.append("actif",a.actif),n.append("created_at",a.created_at),n.append("updated_at",a.updated_at),console.log(Array.from(n)),D.a.post("http://localhost:3000/api/config-panne/add",n,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(a){e(X(t)),a.data?l.success("panne pré-configurée crée"):l.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Titre"),c.a.createElement("input",{name:"title",placeholder:"Exemple: Ne s'allume pas ",ref:n})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"submit"},"Annuler")))))},Le=function(){var e=Object(l.useState)(!1),t=L()(e,2),a=t[0],n=t[1],r=Object(l.useState)(),o=L()(r,2),s=(o[0],o[1],Object(l.useState)([])),m=L()(s,2),u=m[0],d=m[1];Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/config-panne",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){d(e.data),n(!0)})).catch((function(e){console.trace(e)}))}),[]);return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des pannes pré-configurées ",c.a.createElement(i.b,{to:"/break"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement("table",{className:"ui compact celled table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Titre"),c.a.createElement("th",null))),c.a.createElement("tbody",null,function(){if(void 0!==u.length)return u.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.title),c.a.createElement("td",null,c.a.createElement(i.b,{to:"/getnewbreak/".concat(e.id)},c.a.createElement("i",{className:"edit icon"}))))}))}())),a?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}))},Te=function(){var e=Object(m.d)(),t=Object(s.b)(),a=Object(_.g)(),n=Object(_.h)().id,r=Object(l.useState)([]),o=L()(r,2),u=o[0],d=o[1];if(n){var p="http://localhost:3000/api/config-panne/".concat(n);Object(l.useEffect)((function(){D.a.get(p,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){d(e.data)})).catch((function(e){console.trace(e)}))}),[])}var h=Object(T.a)(),E=h.register,f=h.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Nouvelle panne préconfigurée"),c.a.createElement(k.a,{onSubmit:f((function(r){console.log(r);var l=new FormData;l.append("title",r.title),l.append("actif",r.actif),l.append("created_at",r.created_at),l.append("updated_at",r.updated_at),console.log(Array.from(l)),D.a.patch("http://localhost:3000/api/config-panne/edit/".concat(n),l,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(n){t(X(a)),n.data?e.success("Validé avec succès"):e.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Titre"),c.a.createElement("input",{name:"title",placeholder:"Exemple: Ne s'allume pas ",defaultValue:u.title,ref:E})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"submit"},"Annuler")))))},Me=a(139),Ve=a(41);a(246);function qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var He=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(qe()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(){var e;p()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=a.call.apply(a,[this].concat(r)),w()(v()(e),"state",{form:{customer_id:null,firstname:"",lastname:"",phone:"",phone_two:"",mail:"",device_name:"",customer_detail:""},search:[],error:null,order_number:null}),w()(v()(e),"handleSubmit",(function(t){if(!(e.state.form.customer_id||e.state.form.lastname&&e.state.form.phone)){var a=e.state;a.error="Vous n'avez pas complété touts les champs obligatoire.",e.setState(a)}var n=new FormData;n.append("firstname",e.state.form.firstname),n.append("lastname",e.state.form.lastname),n.append("mail",e.state.form.mail),n.append("phone",e.state.form.phone),n.append("phone_two",e.state.form.phone_two),n.append("customer_detail",e.state.form.customer_detail),n.append("customer_id",e.state.form.customer_id),n.append("device_name",e.state.form.device_name),console.log(Array.from(n)),D.a.post("http://localhost:3000/api/sav/stepone",n,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(t){console.log(t.data);var a=e.state;t.data.order_number.order_number?a.order_number=c.a.createElement("div",{className:"alert alert-success",role:"alert"},"Votre fiche a bien été créé, cliquez ici pour l'éditer : ",c.a.createElement(i.b,{to:"/newformtab/".concat(t.data.order_number.order_number),className:"alert-link"},"Fiche SAV : ",t.data.order_number.order_number)):a.error="une erreur s'est produite",e.setState(a)})).catch((function(e){console.trace(e)}))})),w()(v()(e),"handleChange",(function(t){var a=t.target.value,n=t.target.name,r=e.state;r.form[n]=a,e.setState(r)})),w()(v()(e),"searchCustomer",(function(t){var a=t.target.value;a.lenght<3||D.a.get("http://localhost:3000/api/search/user/?q=".concat(a),{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(t){var a=e.state;t.data&&(a.search=t.data),e.setState(a)})).catch((function(e){console.log(e)}))})),w()(v()(e),"renderSearch",(function(){return e.state.search.map((function(e,t){return c.a.createElement("option",{value:e.id,key:t},e.lastname," ",e.firstname)}))})),w()(v()(e),"render",(function(){return c.a.createElement(k.a,{onSubmit:e.handleSubmit},e.state.order_number,c.a.createElement(O.a,{className:"first-client-form-header",as:"h4"},"Sélectionnez un client"),c.a.createElement(k.a.Field,null,c.a.createElement("input",{type:"text",placeholder:"Rechercer un client (nom, numéro de téléphone, mail ...)",onChange:e.searchCustomer}),c.a.createElement("select",{name:"customer_id",id:"customer_id",onChange:e.handleChange},c.a.createElement("option",null,"Rechercher un client pour le trouver dans la liste."),e.renderSearch())),c.a.createElement(O.a,{className:"second-client-form-header",as:"h4"},"Ou créez un nouveau client"),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prénom"),c.a.createElement("input",{name:"firstname",onChange:e.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom *"),c.a.createElement("input",{name:"lastname",onChange:e.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone *"),c.a.createElement("input",{name:"phone",onChange:e.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Téléphone 2"),c.a.createElement("input",{placeholder:"Optionnel",name:"phone_two",onChange:e.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Adresse e-mail"),c.a.createElement("input",{name:"mail",onChange:e.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Notes"),c.a.createElement(ye.a,{placeholder:"Informations supplémentaires",style:{minHeight:100},name:"customer_detail",onChange:e.handleChange})),c.a.createElement("h4",{className:"ui header second-client-form-header"},"Appareil"),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom de l'appareil à réparer *"),c.a.createElement("input",{name:"device_name",onChange:e.handleChange})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/dashboard/1"},c.a.createElement(A.a,{type:"reset"},"Annuler"))),e.state.order_number)})),e}return n}(l.Component),Ue=function(){return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Créer une fiche SAV"),c.a.createElement(Me.a,{defaultActiveKey:"client",id:"uncontrolled-tab-example"},c.a.createElement(Ve.a,{eventKey:"client",title:"Client"},c.a.createElement(He,null)),c.a.createElement(Ve.a,{eventKey:"appareil",title:"Appareil",disabled:!0}),c.a.createElement(Ve.a,{eventKey:"intervention",title:"Intervention",disabled:!0}),c.a.createElement(Ve.a,{eventKey:"galerie",title:"Galerie",disabled:!0}),c.a.createElement(Ve.a,{eventKey:"devis",title:"Devis",disabled:!0}),c.a.createElement(Ve.a,{eventKey:"options",title:"Options",disabled:!0})))},Ke=a(92),Be=a.n(Ke);a(597),a(104);function Ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var We=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(Ge()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;p()(this,n),t=a.call(this,e),w()(v()(t),"state",{order_number:t.props.order_number,device:{device_brand:"",id:null,interval_repair:null,order_number:"",panne:""},config_pannes:[]}),w()(v()(t),"handleChange",(function(e){var a=e.target.value,n=e.target.name,r=t.state;r.device[n]=a,t.setState(r)})),w()(v()(t),"handleChangeDate",(function(e){var a=e,n=t.state;n.device.interval_repair=a.format(),t.setState(n)})),w()(v()(t),"une erreur",void 0),w()(v()(t),"handleSubmit",(function(e){var a=new FormData;a.append("order_number",t.state.device.order_number),a.append("device_brand",t.state.device.device_brand),a.append("interval_repair",t.state.device.interval_repair),a.append("panne",t.state.device.panne),a.append("config_pannes",t.state.device.config_pannes),a.append("order_number_id",t.state.device.id),console.log(Array.from(a)),D.a.patch("http://localhost:3000/api/sav/steptwo/".concat(t.state.order_number),a,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){e.data?t.props.alert.success("La fiche a bien été modifiée"):t.props.alert.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))})),w()(v()(t),"showConfigPannes",(function(){var e=t.state.config_pannes;if(e){if(void 0===e.length)return;return e.map((function(e,a){return c.a.createElement("span",{key:a,className:"btn",name:e.title,onClick:t.handleClickPannes},e.title)}))}})),w()(v()(t),"handleClickPannes",(function(e){var a=" "+e.target.textContent,n=t.state;n.device.panne+=a,t.setState(n)}));var r="http://localhost:3000/api/sav/steptwo/".concat(e.order_number);return D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){t.state.device=e.data[0]})).catch((function(e){console.log(e)})),D.a.get("http://localhost:3000/api/config-panne",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){t.state.config_pannes=e.data})).catch((function(e){console.log(e)})),t}return E()(n,[{key:"render",value:function(){var e=new Date(this.state.device.interval_repair);return c.a.createElement(k.a,{className:"tab-form",onSubmit:this.handleSubmit},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Modèle de l'appareil"),c.a.createElement("input",{type:"text",name:"device_brand",onChange:this.handleChange,defaultValue:this.state.device.device_brand})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Descriptif de la panne"),this.showConfigPannes(),c.a.createElement("textarea",{id:"example-fade-text",placeholder:"Descriptif panne",style:{minHeight:100},name:"panne",onChange:this.handleChange,value:this.state.device.panne})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Délai de réparation"),c.a.createElement(Be.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"interval_repair",onChange:this.handleChangeDate,value:e})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(A.a,{type:"submit"},"Annuler")))}}]),n}(l.Component);a(598);function Ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Qe=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(Ye()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;p()(this,n),t=a.call(this,e),w()(v()(t),"state",{intervention:{id:null,date_intervention:null,intervention:"",order_number:t.props.order_number}}),w()(v()(t),"handleChange",(function(e){var a=e.target.value,n=e.target.name,r=t.state;r.intervention[n]=a,t.setState(r)})),w()(v()(t),"handleChangeDate",(function(e){var a=e,n=t.state;n.intervention.date_intervention=a.format(),t.setState(n)})),w()(v()(t),"handleSubmit",(function(e){var a=new FormData;a.append("order_number_id",t.state.intervention.order_number),a.append("intervention",t.state.intervention.intervention),a.append("date_intervention",t.state.intervention.date_intervention),console.log(Array.from(a)),D.a.patch("http://localhost:3000/api/sav/stepthree/".concat(t.state.intervention.order_number),a,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){e.data?t.props.alert.success("La fiche a bien été modifié"):t.props.alert.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}));var r="http://localhost:3000/api/sav/stepthree/".concat(e.order_number);return D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){t.state.intervention=e.data[0]})).catch((function(e){console.log(e)})),t}return E()(n,[{key:"render",value:function(){console.log(this.state);var e=new Date(this.state.intervention.date_intervention);return c.a.createElement(k.a,{className:"tab-form",onSubmit:this.handleSubmit},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Descriptif de l'intervention"),c.a.createElement("textarea",{placeholder:"Intervention",style:{minHeight:100},name:"intervention",defaultValue:this.state.intervention.intervention,onChange:this.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Date d'intervention"),c.a.createElement(Be.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_intervention",onChange:this.handleChangeDate,value:e})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(A.a,{type:"submit"},"Annuler")))}}]),n}(l.Component),Xe=a(692);a(599);function $e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Je=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if($e()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;p()(this,n),t=a.call(this,e),w()(v()(t),"state",{order_number:t.props.order_number,devis:{amount_devis:"",amount_diag:"",date_devis:null,devis_is_accepted:"",id:null,order_number:t.props.order_number,recall_devis:null,products:[]},isAccepted:[{name:"Devis accepté"},{name:"Devis Refusé"},{name:"Devis en attente de réponse"}],diags:[{value:"15",text:"15€ / Petit appareil",selected:!1},{value:"25",text:"25€ / Plantine vinyle et cd",selected:!1},{value:"35",text:"35€ / Ampli audio",selected:!1},{value:"65",text:"65€ / Matériel professionnel",selected:!1},{value:"85",text:"85€ / Ampli Home cinéma",selected:!1}],alert:t.props.alert,isDeleteProduct:!1,modalShow:!1,search:[],product:""}),w()(v()(t),"showDiags",(function(){return t.state.diags.map((function(e,a){return t.state.devis.amount_diag==e.value&&(e.selected=!0),e.selected?c.a.createElement("option",{key:a,value:e.value,selected:!0},e.text):c.a.createElement("option",{key:a,value:e.value},e.text)}))})),w()(v()(t),"isAcceptedCheckbox",(function(){return t.state.isAccepted.map((function(e,a){return e.name==t.state.devis.devis_is_accepted?c.a.createElement("option",{key:a,value:e.name,selected:!0},e.name):c.a.createElement("option",{key:a,value:e.name},e.name)}))})),w()(v()(t),"handleChange",(function(e){var a=t.state,n=e.target.value,r=e.target.name;a.devis[r]=n,t.setState(a)})),w()(v()(t),"handleChangeDate",(function(e){var a=new Date(e);console.log("DATE : ",a);var n=e;console.log("MOMENT : ",n.tz("Europe/Paris").format());var r=t.state;r.devis.date_devis=n.format(),t.setState(r)})),w()(v()(t),"handleSubmit",(function(e){var a=new FormData;a.append("devis_is_accepted",t.state.devis.devis_is_accepted),a.append("date_devis",t.state.devis.date_devis),a.append("amount_devis",t.state.devis.amount_devis),a.append("amount_diag",t.state.devis.amount_diag),a.append("recall_devis",t.state.devis.recall_devis),a.append("order_number_id",t.state.devis.id),console.log(Array.from(a)),D.a.patch("http://localhost:3000/api/sav/stepfive/".concat(t.state.order_number),a,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){e.data?t.state.alert.success("Validé avec succès"):t.state.alert.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))})),w()(v()(t),"handleClose",(function(){var e=t.state;e.modalShow=!1,t.setState(e)})),w()(v()(t),"handleShow",(function(){var e=t.state;e.modalShow=!0,t.setState(e)})),w()(v()(t),"handleChangeProducts",(function(e){var a=e.target.value;D.a.get("http://localhost:3000/api/search/product/?q=".concat(a),{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){var a=t.state;e.data&&(a.search=e.data),t.setState(a)})).catch((function(e){console.log(e)}))})),w()(v()(t),"showProducts",(function(){return t.state.search.map((function(e){return c.a.createElement("option",{key:e.id,id:e.id,value:e.id},e.ref," - ",e.name)}))})),w()(v()(t),"handleSubmitAddProduct",(function(e){e.preventDefault();var a=t.state.product,n=t.state.devis.id;D.a.get("http://localhost:3000/api/product/".concat(n,"/article/").concat(a),{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){if(e.data){t.state.alert.success("Ajouté avec succès");var a=t.state;a.devis.products.push(e.data[0]),t.setState(a),t.totalAmountDevis()}else t.state.alert.error("Une erreur sest produite.")})).catch((function(e){console.log(e)}))})),w()(v()(t),"handleChangeProduct",(function(e){var a=event.target.value,n=t.state;n.product=a,t.setState(n)})),w()(v()(t),"showProductsInList",(function(){return t.state.devis.products.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,e.ref),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.price),c.a.createElement("td",null,c.a.createElement("span",{onClick:function(e){t.removeQtyOnProduct(e,a)}}," - ")," ",e.qty," ",c.a.createElement("span",{onClick:function(e){t.addQtyOnProduct(e,a)}}," + ")," ",c.a.createElement("span",{className:"delete-product",onClick:function(e){t.deleteProduct(e,a)}}," X ")),c.a.createElement("td",null,e.price*e.qty))}))})),w()(v()(t),"addQtyOnProduct",(function(e,a){var n=t.state;n.devis.products[a].qty=n.devis.products[a].qty+1,t.setState(n),t.totalAmountDevis()})),w()(v()(t),"removeQtyOnProduct",(function(e,a){var n=t.state;0!==n.devis.products[a].qty&&(n.devis.products[a].qty=n.devis.products[a].qty-1),t.setState(n),t.totalAmountDevis()})),w()(v()(t),"deleteProduct",(function(e,a){var n=t.state.devis.products[a].idrel;D.a.get("http://localhost:3000/api/product/sav/delete/".concat(n),{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){if(!0===e.data){t.state.alert.success("Article supprimé");var n=t.state;delete n.devis.products[a],t.setState(n),t.totalAmountDevis()}else t.state.alert.error("Une erreur sest produite.")})).catch((function(e){console.log(e)}))})),w()(v()(t),"totalAmountDevis",(function(){var e=t.state,a=0;e.devis.products.map((function(e){console.log(e),a+=e.price*e.qty})),e.devis.amount_devis=a,t.setState(e)}));var r="http://localhost:3000/api/sav/stepfive/".concat(e.order_number);return D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){console.log(e.data[0]),t.state.devis=e.data[0]})).catch((function(e){console.log(e)})),t}return E()(n,[{key:"render",value:function(){var e=new Date(this.state.devis.date_devis);return c.a.createElement("div",{className:"tab-form"},c.a.createElement(Xe.a,{show:this.state.modalShow,onHide:this.handleClose},c.a.createElement(Xe.a.Header,{closeButton:!0},c.a.createElement(Xe.a.Title,null,"Rechercher un article")),c.a.createElement(Xe.a.Body,null,c.a.createElement("form",{onSubmit:this.handleSubmitAddProduct},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Recherche : "),c.a.createElement("input",{type:"text",id:"search-product",onChange:this.handleChangeProducts,placeholder:"Rechercher votre produit."})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Liste des produits"),c.a.createElement("select",{id:"list-products",onChange:this.handleChangeProduct},c.a.createElement("option",null,"Sélectionnez votre produit après votre recheche."),this.showProducts())),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{type:"submit"},"Ajouter le produit")))),c.a.createElement(Xe.a.Footer,null,c.a.createElement(A.a,{variant:"secondary",onClick:this.handleClose},"Fermer"))),c.a.createElement("table",{className:"product-list"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Ref"),c.a.createElement("td",null,"Désignation"),c.a.createElement("td",null,"Prix / Unitaire"),c.a.createElement("td",null,"Quantité"),c.a.createElement("td",null,"Montant"))),c.a.createElement("tbody",null,this.showProductsInList())),c.a.createElement("span",{className:"btn add-product",onClick:this.handleShow},"Ajouter un produit au devis"),c.a.createElement(k.a,{onSubmit:this.handleSubmit},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Etat du devis"),c.a.createElement("select",{onChange:this.handleChange,name:"devis_is_accepted"},c.a.createElement("option",null,"Sélectionnez l'état du devis"),this.isAcceptedCheckbox())),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Date devis"),c.a.createElement(Be.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",onChange:this.handleChangeDate,value:e})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Montant du devis"),c.a.createElement("input",{type:"text",name:"amount_devis",min:"0",defaultValue:this.state.devis.amount_devis,onChange:this.handleChange})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Montant du diagnostic"),c.a.createElement("select",{name:"amount_diag",onChange:this.handleChange},c.a.createElement("option",null,"Choisissez un montant"),this.showDiags())),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nombre de rappels au client pour le devis"),c.a.createElement("input",{type:"number",name:"recall_devis",min:"0",defaultValue:this.state.devis.recall_devis,onChange:this.handleChange})),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(A.a,null,"Annuler"))))}}]),n}(l.Component),Ze=function(){var e=Object(m.d)(),t=Object(l.useState)(!1),a=L()(t,2),n=a[0],r=a[1],o=Object(T.a)(),s=o.register,i=o.handleSubmit,u=Object(_.h)().order_number,d=Object(l.useState)([]),p=L()(d,2),h=p[0],E=p[1],f=Object(l.useState)([]),v=L()(f,2),g=v[0],b=v[1],y=Object(l.useState)([]),N=L()(y,2),S=N[0],j=N[1],C=Object(l.useState)([]),w=L()(C,2),F=(w[0],w[1],"http://localhost:3000/api/sav/stepone/".concat(u));Object(l.useEffect)((function(){D.a.get(F,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){var t="http://localhost:3000/api/tag/sav/".concat(e.data[0].id);D.a.get(t,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(t){e.data[0].tags=t.data,E(e.data[0])}))})).catch((function(e){console.log(e)}))}),[]);Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/tag",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){b(e.data),r(!0)})).catch((function(e){console.log(e)}))}),[]);var R=function(t,a){var n=t.target.getAttribute("id");if(t.target.classList.contains("act")){var r="http://localhost:3000/api/tag/remove/".concat(n,"/sav/").concat(h.id);D.a.get(r,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){(console.log(e.data),e.data)&&document.getElementById(n).classList.remove("act")})).catch((function(e){console.log(e)}))}else{var l="http://localhost:3000/api/tag/".concat(n,"/sav/").concat(h.id);D.a.get(l,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(t){(console.log(t.data),t.data)&&document.getElementById(n).classList.add("act");t.data?e.success("Tag ajouté"):e.error("Impossible d'ajouter le tag.")})).catch((function(e){console.log(e)}))}};Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/action",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,{as:"h5",className:"options-header"},"Gestion des Tags"),n?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}),c.a.createElement("div",{className:"tags"},function(e){if(h.tags){if(0===Object.entries(h.tags).length){if(void 0===g.length)return;return g.map((function(t,a){return c.a.createElement("span",{key:a,sav:e,onClick:function(t){return R(t,e)},id:t.id,style:{border:"3px solid white",backgroundColor:t.color,color:"black",borderRadius:"1em",cursor:"pointer",padding:"0.5em",margin:"10px"}},t.title)}))}return g.map((function(t,a){var n=!1;return h.tags.map((function(e){e.title===t.title&&(n=!0)})),n?c.a.createElement("span",{key:a,className:"act",sav:e,onClick:function(t){return R(t,e)},id:t.id,style:{border:"3px solid white",backgroundColor:t.color,color:"black",borderRadius:"1em",cursor:"pointer",padding:"0.5em",margin:"10px"}},t.title):c.a.createElement("span",{key:a,sav:e,onClick:function(t){return R(t,e)},id:t.id,style:{border:"3px solid white",backgroundColor:t.color,color:"black",borderRadius:"1em",cursor:"pointer",padding:"0.5em",margin:"10px"}},t.title)}))}}(h.id)),c.a.createElement(O.a,{as:"h5",className:"options-header"},"Gestion des Actions"),c.a.createElement(k.a,{onSubmit:i((function(t){var a=t.action,n="http://localhost:3000/api/action/".concat(a,"/sav/").concat(h.id);D.a.get(n,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(t){t.data?e.success("Action ajoutée avec succès"):e.error("Impossible d'ajouter l'action.")})).catch((function(e){console.log(e)}))}))},c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{name:"action",ref:s},c.a.createElement("option",null,"Sélectionner une action"),S.map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})))),c.a.createElement("div",{className:"button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Ajouter la nouvelle action"))))},et=function(){var e;sessionStorage.order_number?(e=sessionStorage.order_number,delete sessionStorage.order_number):e=(e=Object(_.h)()).order_number;var t=Object(l.useState)([]),a=L()(t,2),n=a[0],r=a[1],o=Object(l.useState)(!1),s=L()(o,2),i=s[0],m=s[1],u="http://localhost:3000/api/sav/stepone/".concat(e);return Object(l.useEffect)((function(){D.a.get(u,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){r(e.data[0]),m(!0)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(je.a,{className:"client-tab"},c.a.createElement(je.a.Header,{as:"h5",className:"second-client-form-header"},"Informations Client"),i?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}),c.a.createElement(je.a.Header,{as:"h6"},n.firstname," ",n.lastname),c.a.createElement(je.a.Header,{as:"h6"},n.phone),c.a.createElement(je.a.Header,{as:"h6"},n.phone_two),c.a.createElement(je.a.Header,{as:"h6"},n.mail),c.a.createElement(je.a.Header,{as:"h6"},n.device_name))},tt=a(416),at=function(e,t){console.log(e.target);var a=e.target.getAttribute("id");console.log(t);var n="http://localhost:3000/api/sav/stepfour/delete/".concat(t,"/").concat(a);D.a.get(n,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data&&(document.getElementById(a).remove(),e.data?alert.success("La photo a bien été supprimé."):alert.error("Une erreur s'est produite."))})).catch((function(e){console.log(e)}))},nt=function(){var e=Object(l.useState)(),t=L()(e,2),a=t[0],n=t[1],r=Object(_.h)().order_number,o="http://localhost:3000/api/sav/stepfour/".concat(r);Object(l.useEffect)((function(){D.a.get(o,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){n(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,a?a.map((function(e){var t="http://localhost:3000/static/"+e.title;return c.a.createElement("img",{key:e.id,src:t,id:e.id,onDoubleClick:function(e){at(e,r)}})})):null)},rt=function(){var e=Object(T.a)(),t=(e.register,e.handleSubmit,Object(m.d)()),a=Object(_.h)().order_number,n=Object(l.useCallback)((function(e){e.forEach((function(e){var n=new FormData;n.append("order_number",a),n.append("picture",e),D.a.post("http://localhost:3000/api/sav/stepfour/".concat(a),n,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(e){r(e.data),e.data?t.success("La photo a bien été ajouté"):t.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))}),[]),r=function(e){console.log(e);e.id;var t="http://localhost:3000/static/"+e.title,a=document.getElementById("gallery"),n=document.createElement("img");n.classList.add("rounded"),n.setAttribute("src",t),a.append(n)},o=Object(tt.a)({onDrop:n}),s=o.getRootProps,i=o.getInputProps,u=o.isDragActive;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"gallery",className:"gallery"},c.a.createElement(nt,null)),c.a.createElement("div",s(),c.a.createElement("input",i()),u?c.a.createElement("p",null,"Drop the files here"):c.a.createElement("p",{className:"dropzone"},"Cliquez ici pour ajouter une image")))},lt=function(){var e,t=Object(_.g)(),a=Object(s.b)(),n=Object(m.d)();sessionStorage.order_number?(e=sessionStorage.order_number,delete sessionStorage.order_number):e=(e=Object(_.h)()).order_number;var r=Object(l.useState)([]),o=L()(r,2),i=o[0],u=o[1],d="http://localhost:3000/api/sav/stepone/".concat(e);Object(l.useEffect)((function(){D.a.get(d,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){u(e.data[0])})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"head-newformtab"},c.a.createElement(O.a,{as:"h2"},"Fiche ",i.order_number,c.a.createElement("i",{className:"trash alternate icon",onClick:function(){if(window.confirm("Voulez-vous archiver cette fiche ?")){var e="http://localhost:3000/api/sav/archive/".concat(i.id);D.a.get(e,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){e.data?a(K(t)):n.error("Impossible d'archiver la fiche.")})).catch((function(e){console.log(e)}))}},style:{fontSize:"1.3em"}}))),c.a.createElement(Me.a,{defaultActiveKey:"client",className:"active",id:"uncontrolled-tab-example"},c.a.createElement(Ve.a,{eventKey:"client",title:"Client"},c.a.createElement(et,null)),c.a.createElement(Ve.a,{eventKey:"appareil",title:"Appareil"},c.a.createElement(We,{order_number:e,alert:n})),c.a.createElement(Ve.a,{eventKey:"intervention",title:"Intervention"},c.a.createElement(Qe,{order_number:e,alert:n})),c.a.createElement(Ve.a,{eventKey:"galerie",title:"Galerie"},c.a.createElement(rt,null)),c.a.createElement(Ve.a,{eventKey:"devis",title:"Devis"},c.a.createElement(Je,{order_number:e,alert:n})),c.a.createElement(Ve.a,{eventKey:"options",title:"Options"},c.a.createElement(Ze,null)))))},ct=function(){var e=Object(_.g)(),t=(Object(_.h)().id,Object(l.useState)(!1)),a=L()(t,2),n=a[0],r=a[1],o=Object(l.useState)([]),s=L()(o,2),m=s[0],u=s[1],d=Object(l.useState)(),p=L()(d,2),h=(p[0],p[1]);Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/tag",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){u(e.data),r(!0)})).catch((function(e){console.trace(e)}))}),[]);var E=function(e){if(window.confirm("Voulez-vous archiver cette fiche ?")){var t=e.target.getAttribute("id"),a="http://localhost:3000/api/tag/archive/".concat(t);D.a.get(a,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){h(e);var a=document.getElementById(t);a.remove(),console.log(a)})).catch((function(e){console.trace(e)}))}};return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des Tags ",c.a.createElement(i.b,{to:"/tagform"},c.a.createElement("i",{className:"plus icon"}))),n?[]:c.a.createElement(ue.a,{animation:"border",variant:"primary",className:"spinner"}),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"tag-list"},function(){if(void 0!==m.length)return m.map((function(t,a){return c.a.createElement("div",{key:a,className:"tag-box",style:{backgroundColor:"".concat(t.color),color:"white"},onDoubleClick:function(){return e.push("/edittagform/".concat(t.id))},id:t.id},t.title,c.a.createElement("span",{className:"tag-box-trash"},c.a.createElement("i",{id:t.id,onClick:E}," x ")))}))}())))},ot=a(138),st=function(){var e=Object(s.b)(),t=Object(_.g)(),a=Object(m.d)(),n=Object(l.useState)("#ff0000"),r=L()(n,2),o=r[0],i=r[1],u=Object(T.a)(),d=u.register,p=u.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Créer un nouveau Tag"),c.a.createElement(Ee.a,null,c.a.createElement(k.a,{className:"modal-form",onSubmit:p((function(n){var r=new FormData;r.append("title",n.title),r.append("color",o),D.a.post("http://localhost:3000/api/tag/add",r,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(n){e($(t)),n.data?a.success("Tag crée"):a.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom du tag"),c.a.createElement("input",{type:"text",name:"title",ref:d})),c.a.createElement("div",{className:"color-picker"},c.a.createElement(ot.SketchPicker,{name:"color",ref:d,color:o,onChangeComplete:function(e){i(e.hex)}})),c.a.createElement("div",{className:"newcard-button-form"},c.a.createElement(A.a,{className:"submit-button",type:"ubmit",positive:!0,icon:"checkmark",labelPosition:"right",content:"Valider"})))))},it=function(){var e=Object(_.h)().id,t=Object(l.useState)([]),a=L()(t,2),n=a[0],r=a[1];if(e){var o="http://localhost:3000/api/user/".concat(e);return Object(l.useEffect)((function(){D.a.get(o,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){r(e.data)})).catch((function(e){console.trace(e)}))}),[]),c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Fiche de l'employé"),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"main-client"},c.a.createElement("p",null," Prénom : ",c.a.createElement("span",null,n.firstname||"")),c.a.createElement("p",null," Nom: ",c.a.createElement("span",null,n.lastname||"")),c.a.createElement("p",null," Numéro de téléphone: ",c.a.createElement("span",null,n.phone||"")))))}return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Fiche de l'employé"),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"main-client"},"PAS D'EMPLOYÉ'")))},mt=function(){var e=Object(l.useState)([]),t=L()(e,2),a=t[0],n=t[1];Object(l.useEffect)((function(){D.a.get("http://localhost:3000/api/action",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){n(e.data)})).catch((function(e){console.trace(e)}))}),[]);return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Liste des Actions ",c.a.createElement(i.b,{to:"/actionform"},c.a.createElement("i",{className:"plus icon"}))),c.a.createElement(Ee.a,null,c.a.createElement("div",{className:"action-list"},a.map((function(e){var t="action-box ";return 1==e["is-blocked"]?t+="blocked":t+="",1==e["is-blocked"]?c.a.createElement("div",{key:e.id,className:t},c.a.createElement(Ee.a,null,e.name)):c.a.createElement("div",{key:e.id,className:t},c.a.createElement(Ee.a,null,e.name,c.a.createElement(i.b,{to:"/editactionform/".concat(e.id),className:"btn-edit-action"},c.a.createElement("i",{className:"edit icon"}))))})))))},ut=function(){var e=Object(m.d)(),t=Object(s.b)(),a=Object(_.g)(),n=Object(T.a)(),r=n.register,l=n.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Définir une nouvelle action"),c.a.createElement(k.a,{onSubmit:l((function(n){console.log(n);var r=new FormData;r.append("name",n.name),console.log(Array.from(r)),D.a.post("http://localhost:3000/api/action/add",r,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"multipart/form-data"}}}).then((function(n){t(J(a)),n.data?e.success("action crée"):e.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("input",{name:"name",ref:r,defaultValue:"",placeholder:"exemple: a appellé le client"})),c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(A.a,{type:"submit"},"Annuler")))},dt=function(e){var t=Object(m.d)(),a=Object(s.b)(),n=Object(_.g)(),r=Object(_.h)().id,o=Object(l.useState)([]),u=L()(o,2),d=u[0],p=u[1];if(r){var h="http://localhost:3000/api/product/".concat(r);Object(l.useEffect)((function(){D.a.get(h,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){p(e.data)})).catch((function(e){console.log(e)}))}),[])}var E=Object(T.a)(),f=E.register,v=E.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Modifier un article"),c.a.createElement("div",{className:"newcard"},c.a.createElement(k.a,{onSubmit:v((function(e){console.log(e);var l=new FormData;l.append("ref",e.ref),l.append("name",e.name),l.append("price",e.price),l.append("mesure",e.mesure),l.append("created_at",e.created_at),l.append("updated_at",e.updated_at),console.log(Array.from(l)),D.a.patch("http://localhost:3000/api/product/edit/".concat(r),l,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(e){console.log(e),a(Q(n)),e.data?t.success("Article modifié"):t.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement("div",{className:"newcard-client"},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"ref"),c.a.createElement("input",{name:"ref",defaultValue:d.ref||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom"),c.a.createElement("input",{name:"name",defaultValue:d.name||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Prix"),c.a.createElement("input",{name:"price",defaultValue:d.price||"",ref:f})),c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"unité"),c.a.createElement("input",{name:"mesure",defaultValue:d.ref||"",ref:f}))),c.a.createElement("div",{className:"newcard-button-form"},c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(i.b,{to:"/articlelist/1"},c.a.createElement(A.a,{type:"submit"},"Annuler"))))))},pt=function(e){var t=Object(m.d)(),a=Object(s.b)(),n=Object(_.g)(),r=Object(_.h)().id,o=Object(l.useState)([]),i=L()(o,2),u=i[0],d=i[1];if(r){var p="http://localhost:3000/api/tag/".concat(r);Object(l.useEffect)((function(){D.a.get(p,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))}),[])}var h=Object(l.useState)("#ff0000"),E=L()(h,2),f=E[0],v=E[1],g=Object(T.a)(),b=g.register,y=g.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Modifier Tag"),c.a.createElement(Ee.a,null,c.a.createElement(k.a,{className:"modal-form",onSubmit:y((function(e){console.log(e);var l=new FormData;l.append("title",e.title),l.append("color",f),console.log(Array.from(l)),D.a.patch("http://localhost:3000/api/tag/edit/".concat(r),l,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(e){console.log(e),a($(n)),e.data?t.success("Tag modifié"):t.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("label",null,"Nom du tag"),c.a.createElement("input",{type:"text",name:"title",defaultValue:u.title||"",ref:b})),c.a.createElement("div",{className:"color-picker"},c.a.createElement(ot.SketchPicker,{name:"color",defaultValue:u.color||"",ref:b,color:f,onChangeComplete:function(e){v(e.hex)}})),c.a.createElement("div",{className:"newcard-button-form"},c.a.createElement(A.a,{className:"submit-button",type:"submit",positive:!0,icon:"checkmark",labelPosition:"right",content:"Valider"})))))},ht=function(e){var t=Object(m.d)(),a=Object(s.b)(),n=Object(_.g)(),r=Object(_.h)().id,o=Object(l.useState)([]),i=L()(o,2),u=i[0],d=i[1];if(console.log(r),r){var p="http://localhost:3000/api/action/".concat(r);Object(l.useEffect)((function(){D.a.get(p,{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(e){d(e.data),console.log(u)})).catch((function(e){console.log(e)}))}),[])}var h=Object(T.a)(),E=h.register,f=h.handleSubmit;return c.a.createElement("div",{className:"main"},c.a.createElement(O.a,{as:"h2"},"Modifier action"),c.a.createElement(k.a,{onSubmit:f((function(e){console.log(e);var l=new FormData;l.append("name",e.name),console.log(Array.from(l)),D.a.patch("http://localhost:3000/api/action/edit/".concat(r),l,{headers:{Authorization:sessionStorage.token,post:{"Content-Type":"application/json; charset=utf-8"}}}).then((function(e){console.log(e),a(J(n)),e.data?t.success("Action modifié"):t.error("Une erreur s'est produite.")})).catch((function(e){console.trace(e)}))}))},c.a.createElement(k.a.Field,null,c.a.createElement("input",{name:"name",defaultValue:u.name,ref:E})),c.a.createElement(A.a,{color:"green",type:"submit"},"Valider"),c.a.createElement(A.a,{type:"submit"},"Annuler")))};a(190);function Et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}console.log("isConnected du session: ",sessionStorage.isConnected),console.log("Token du session: ",sessionStorage.token);var ft=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=j()(t);if(Et()){var n=j()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return N()(this,e)});function n(e){var t;return p()(this,n),t=a.call(this,e),w()(v()(t),"state",{alert:t.props.alert}),t}return E()(n,[{key:"render",value:function(){var e=this;this.state.alert;return c.a.createElement("div",{className:"app"},c.a.createElement(_.d,null,c.a.createElement(_.b,{exact:!0,path:"/"},c.a.createElement(me,null)),c.a.createElement(_.b,{exact:!0,path:"/dashboard/:page",render:function(e){return!1!==sessionStorage.isConnected&&sessionStorage.isConnected?c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Se,null),c.a.createElement(Fe,{type:"general"}))):c.a.createElement(_.a,{to:"/"})}}),c.a.createElement(_.b,{exact:!0,path:"/formtab"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Ue,null),c.a.createElement(Fe,null))),c.a.createElement(_.b,{exact:!0,path:"/newformtab/:order_number?",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(lt,null),c.a.createElement(Fe,{type:"sav",id:e.match.params.order_number})))}}),c.a.createElement(_.b,{exact:!0,path:"/card/:order_number",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(_e,null),c.a.createElement(Fe,{type:"sav",id:e.match.params.order_number})))}}),c.a.createElement(_.b,{exact:!0,path:"/newclient"},c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Ne,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/getnewclient/:id"},c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ze,null),c.a.createElement(Fe,{type:"client"}))),c.a.createElement(_.b,{exact:!0,path:"/clients/:id"},c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ge,null),c.a.createElement(Fe,{type:"client"}))),c.a.createElement(_.b,{exact:!0,path:"/clientlist/:page"},c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(he,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/workerlist"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(de,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/workerlist/:id"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(it,null),c.a.createElement(Fe,{type:"user"}))),c.a.createElement(_.b,{exact:!0,path:"/workerform"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(xe,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/archivelist/:page"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(be,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/articlelist/:page"},c.a.createElement(ne,null),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Pe,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/editarticleform/:id"},c.a.createElement(ne,null),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(dt,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/articleform",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,null),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Re,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/formtab",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Ue,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/newformtab/:order_number?",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(lt,null),c.a.createElement(Fe,{type:"sav",id:e.match.params.order_number})))}}),c.a.createElement(_.b,{exact:!0,path:"/card/:order_number",render:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(_e,null),c.a.createElement(Fe,{type:"sav",id:t.match.params.order_number,update:e.changeState})))}}),c.a.createElement(_.b,{exact:!0,path:"/newclient",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Ne,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/getnewclient/:id",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ze,null),c.a.createElement(Fe,{type:"client",id:e.match.params.id})))}}),c.a.createElement(_.b,{exact:!0,path:"/clients/:id",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ge,null),c.a.createElement(Fe,{type:"client",id:e.match.params.id})))}}),c.a.createElement(_.b,{exact:!0,path:"/clientlist/:page",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"user"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(he,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/workerlist",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(de,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/workerlist/:id",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(it,null),c.a.createElement(Fe,{type:"user",id:e.match.params.id})))}}),c.a.createElement(_.b,{exact:!0,path:"/workerform",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(xe,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/archivelist/:page",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(be,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/articlelist/:page",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,null),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Pe,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/profil"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(z,{type:"user"}))),c.a.createElement(_.b,{exact:!0,path:"/break"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Ie,{type:"user"}))),c.a.createElement(_.b,{exact:!0,path:"/breaklist"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Le,{type:"user"}))),c.a.createElement(_.b,{exact:!0,path:"/getnewbreak/:id"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Te,{type:"user"}))),c.a.createElement(_.b,{exact:!0,path:"/tagform/"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(st,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/edittagform/:id"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(pt,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/tags"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ct,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/actionlist"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(mt,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/actionform"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ut,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/editactionform/:id"},c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ht,null),c.a.createElement(Fe,{type:"general"}))),c.a.createElement(_.b,{exact:!0,path:"/breaklist",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Le,{type:"user"}),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/getnewbreak/:id",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(Te,{type:"user"}),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/tagform/",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(st,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/tags",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ct,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/actionlist",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(mt,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,{exact:!0,path:"/actionform",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ut,null),c.a.createElement(Fe,{type:"general"})))}}),c.a.createElement(_.b,null,c.a.createElement(ne,{type:"general"}),c.a.createElement(se,null),c.a.createElement("div",{className:"content"},c.a.createElement(ke,null)))))}}]),n}(l.Component),vt=a(77);function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(a),!0).forEach((function(t){w()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt={password:"",mail:"",result:""},Nt=Object(vt.a)((function(e){return function(e){return function(t){t.type,console.log("ACTION:",t.type),e(t)}}}),(function(e){return function(t){return function(a){switch(a.type){case"actions/LOGIN":if(!e.getState().mail&&!e.getState().password){sessionStorage.setItem("isConnected",!1);break}D.a.post("http://localhost:3000/api/login",{mail:e.getState().mail,password:e.getState().password},{withCredentials:!0}).then((function(t){t.data.error&&sessionStorage.setItem("errorLogin",t.data.error),t.data.token?(sessionStorage.setItem("token","Bearer "+t.data.token),sessionStorage.setItem("isAdmin",t.data.isAdmin),""!==t.data.token?sessionStorage.setItem("isConnected",!0):sessionStorage.setItem("isConnected",!1),e.dispatch(V(a.history))):(sessionStorage.setItem("isConnected",!1),sessionStorage.setItem("error","Vos identifiants sont incorrect."))})).catch((function(e){console.trace(e)}));break;case M:sessionStorage.token&&D.a.get("http://localhost:3000/api/logout",{withCredentials:!0,headers:{Authorization:sessionStorage.token}}).then((function(t){sessionStorage.removeItem("token"),sessionStorage.removeItem("isConnected"),sessionStorage.removeItem("isAdmin"),console.log(a.history),e.dispatch(Z(a.history))}));default:t(a)}}}}),(function(e){return function(e){return function(t){switch(t.type){case"actions/ENTER_MAINPAGE":t.history.push("/dashboard/1");break;case"actions/SEE_PROFILPAGE":t.history.push("/profil");break;case"actions/SEE_CLIENTS":t.history.push("/clientlist/1");break;case"actions/SEE_CLIENTFORM":t.history.push("/newclient");break;case"actions/SEE_NEW_CLIENTFORM":t.history.push("/getnewclient");break;case"actions/SEE_ARCHIVES":t.history.push("/archivelist/1");break;case"actions/SEE_EDIT_ARTICLEFORM":t.history.push("/editarticleform/:id");break;case"actions/SEE_PRODUCTS":t.history.push("/articlelist/1");break;case"actions/SEE_ARTICLEFORM":t.history.push("/articleform");break;case"actions/SEE_WORKERS":t.history.push("/workerlist");break;case"actions/SEE_WORKERFORM":t.history.push("/workerform");break;case"actions/SEE_CARDFORM":t.history.push("/formtab");break;case"actions/SEE_NEW_CARDFORM":t.history.push("/newformtab/");break;case"actions/SEE_BREAKDOWN_FORM":t.history.push("/break");break;case"actions/SEE_BREAKDOWN":t.history.push("/breaklist");break;case"actions/SEE_NEW_BREAKDOWNFORM":t.history.push("/getnewbreak");break;case"actions/SEE_ACTIONLIST":t.history.push("/actionlist");break;case"actions/SEE_ACTIONFORM":t.history.push("/actionform");break;case"action/SEE_EDIT_ACTIONFORM":CaretPosition.history.push("/editactionform");break;case"actions/SEE_TAG_FORM":t.history.push("/tagform");break;case"actions/SEE_EDIT_TAGFORM":t.history.push("/edittagform/:id");break;case"actions/SEE_TAG_LIST":t.history.push("/tags");break;case M:t.history.push("/");break;default:e(t)}}}})),St=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||vt.c)(Nt),jt=Object(vt.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"actions/SYNC_PASSWORD":return bt({},e,{password:t.password});case"actions/SYNC_MAIL":return bt({},e,{mail:t.mail});case"actions/SYNC_TEXT":return bt({},e,{result:t.result});default:return e}}),St),Ct={position:m.b.BOTTOM_CENTER,timeout:2e3,offset:"30px",transition:m.c.SCALE,containerStyle:{zIndex:1e3}},wt=document.getElementById("root");Object(o.render)(c.a.createElement(i.a,{forceRefresh:!1},c.a.createElement(m.a,r()({template:u.a},Ct),c.a.createElement(s.a,{store:jt},c.a.createElement(ft,null)))),wt)}},[[429,1,2]]]);